# B3 v0.1.2 Upgrade Path

## Notes for scratch build!

### PARTs

```
74HC00      u301 u309 u316 u320 u321 u322 u323 u324 u328 u329              
74HCT04     u335                                                           
74HC08      u318 u325 u326 u337 u339                                       
74HC32      u306 u314 u319 u338                                            
74HC74      u303 u304 u317 u330 u331 u332 u333 u334 nff1 nff2                 
74HCT74     u305                                                           
74HCT125    u302                                                           
74HC157     n157                                                           
74HC193     u308 u315                                                      
74HC244     u310 u312 u336                                                 
74HC299     u307 u313                                                      
74HC377     u311 u327                                                      
```

### LIFTs

- [ ] CNTSYNC1. Lift U305.1. Connect to U303.6
- [ ] CNTSYNC2. Lift U304.4. Connect to U304.8
- [ ] CNTSYNC2. Lift U304.1. Connect to VCC
- [ ] CNTSYNC2. Lift U304.13. Connect to U304.6
- [ ] OUTPUT. Lift U302.4. Connect to U301.10
- [ ] OUTPUT. Lift U313.19
- [ ] ICR FLAG. Lift U333.1 connect to U333.8
- [ ] Replace /ICRCLR2 by /ICRCLR1 for all sources. Lift U330.6. Connect U331.1 to U330.8
- [ ] ICR1 clear OLD vs NEW. Lift U332.13. Connect to HC157.4
- [ ] ICR1 SET ICR7. Lift U337.12 connect to U335.13
- [ ] ICR7 OLD vs NEW. Lift U334.13 connect to U334.1
- [ ] ICR7 OLD vs NEW. Lift U336.8 connect to HC157.7
- [ ] IRQ OLD vs NEW. Lift 334.8 (Isolate /FROM ControlBUS)

## Upgrade Path

@ v0.1.2
- [ ] TARUNMODE Removed from CONTROLBUS.
- [ ] CNTSYNC1. Lift U305.1. Connect to U303.6
- [ ] CNTSYNC2. Lift U304.4. Connect to U304.8
- [ ] CNTSYNC2. Lift U304.1. Connect to VCC
- [ ] CNTSYNC2. Lift U304.13. Connect to U304.6
- [ ] OUTPUT. Lift U302.4. Connect to U301.10
- [ ] OUTPUT. Lift U313.19
- [ ] SDR FIX. We need an extra FF (NEWFF). Place over U319
- [ ] NEWFF.7 connect to GND.
- [ ] NEWFF.14 connect to VCC.
- [ ] NEWFF.10 and NEWFF.13 connect to VCC 
- [ ] NEWFF.12 connect to U314.9
- [ ] NEWFF1 connect to U311.11 (/PHI2)
- [ ] NEWFF.9 connect to U313.19
- [ ] ICR FLAG. Lift U333.1 connect to U333.8

@ v0.2.0
- [ ] In v0.2.1 we add OLD vs NEW Switch, but it's not right. Skip this version

@ v0.2.1
- [ ] We need one extra FF (NEWFF). 7 to GND 14 to VCC. Place over U316 and U317
- [ ] We also need one 74HC157 and a 2 way switch. 8 to GND 16 to VCC. Place over U318 and U319. Switch right left of HC157.
- [ ] HC157.1 to center pin on switch.
- [ ] On switch. GND is NEW. VCC will be old
- [ ] HC157.15 to GND (/ENABLE)
- [ ] Replace /ICRCLR2 by /ICRCLR1 for all sources. Lift U330.6. Connect U331.1 to U330.8
- [ ] ICR1 clear OLD vs NEW. Lift U332.13. Connect to HC157.4
- [ ] ICR1 clear OLD vs NEW. HC157.2 connect to U331.13
- [ ] ICR1 clear OLD vs NEW. HC157.3 connect to U330.6
- [ ] ICR1 SET ICR7. Lift U337.12 connect to U335.13
- [ ] ICR7 OLD vs NEW. Lift U334.13 connect to U334.1
- [ ] ICR7 OLD vs NEW. Lift U336.8 connect to HC157.7
- [ ] ICR7 OLD vs NEW. HC157.5 to U334.5
- [ ] ICR7 OLD vs NEW. HC157.6 to U334.9
- [ ] IRQ OLD vs NEW. NEWFF.1 to U333.13 and NEWFF.13
- [ ] IRQ OLD vs NEW. NEWFF.2 NEWFF.3 NEWFF.10 to VCC
- [ ] IRQ OLD vs NEW. NEWFF.4 to U335.8
- [ ] IRQ OLD vs NEW. NEWFF.5 to NEWFF.12
- [ ] IRQ OLD vs NEW. NEWFF.6 to HC157.11
- [ ] IRQ OLD vs NEW. NEWFF.8 to HC157.10
- [ ] IRQ OLD vs NEW. NEWFF.11 to U330.3
- [ ] IRQ OLD vs NEW. Lift 334.8 (Isolate /FROM ControlBUS)
- [ ] IRQ OLD vs NEW. HC157.9 to /IRQ in controlBUS

@ v0.2.2